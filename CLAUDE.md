# CLAUDE PROJECT IDENTIFIER - BE WELL LIFESTYLE CENTERS

## üéØ PROJECT VERIFICATION
**UNIQUE ID**: WELLBE-BIOSYNC-2025
**This is the CORRECT wellBe project folder**

## üìÅ CRITICAL PATHS
- **Working Directory**: `/Users/silviomac/wellbe`
- **Main File**: `/Users/silviomac/wellbe/index.html` (NOT transformation-hub.html)
- **GitHub**: https://github.com/scozzetto/wellbe-biosync-portal

## ‚ö†Ô∏è IMPORTANT REMINDERS
1. **Netlify serves index.html** - Always update index.html, not transformation-hub.html
2. **Videos folder**: `/Users/silviomac/wellbe/videos/`
3. **Live domain**: https://bewelllifestylecenters.com

## üîç VERIFICATION COMMANDS
When starting work, run these:
```bash
pwd  # Should show: /Users/silviomac/wellbe
ls CLAUDE.md  # Should find this file
grep "WELLBE-BIOSYNC-2025" CLAUDE.md  # Should return this unique ID
```

## üí° MAGIC PHRASES TO TELL CLAUDE
**ANY mention of "Be Well" or "wellbe" should trigger full project context loading!**

### Primary Triggers:
- "We're working on the Be Well website"
- "Be Well project"
- "wellbe website"
- "Check CLAUDE.md first"
- "Verify WELLBE-BIOSYNC-2025"
- "Be Well Lifestyle Centers"
- **"Find everything you need to know about the Be Well LifeStyle Centers webpage and catch yourself back up to speed"**
- **"Go into the wellbe directory and read CLAUDE.md and SYSTEM_STATUS.md to get up to speed"**

### Recovery Phrases (if Claude forgets):
- "You crashed, we're working on Be Well"
- "Remember the Be Well website project"
- "Load the wellbe project context"
- "Check /Users/silviomac/wellbe/CLAUDE.md"

### What These Phrases Should Do:
1. `cd /Users/silviomac/wellbe`
2. `grep "WELLBE-BIOSYNC-2025" CLAUDE.md` (verify correct project)
3. Read `CLAUDE.md`, `SYSTEM_STATUS.md`, and `SALESFORCE_NATIVE_INTEGRATION.md`
4. Check recent git commits for latest changes
5. Load full project context and current system status


## üöÄ CURRENT STATE (Last Updated: June 27, 2025)
- Splash screen: 4-second video with white disc logo
- Header: Transparent luxury design with white text
- Hero: "It's Time to Transform"
- All services have header images
- Square booking and caf√© integration active
- **STRIPE PAYMENTS LIVE:** All 4 membership tiers connected to Stripe Payment Links
- **‚úÖ STRIPE WEBHOOK WORKING:** Signature verification successful, processing events
- **‚úÖ MEMBER PORTAL WORKING:** Magic link authentication, member lookup functional
- **‚ö†Ô∏è SALESFORCE PARTIALLY WORKING:** Code ready, but credentials needed for full sync
- Staff knowledge base with password protection
- Admin dashboard for member management
- Website live and fully operational at bewelllifestylecenters.com
- **Chat button shows membership info popup** (dark theme, working navigation)
- **Silvio added to member portal** (silvio@bewelllifestylecenters.com)
- **‚úÖ PATIENT CHECK-IN SYSTEM COMPLETE:** Multi-page wizard with giant keyboard for accessibility
- **‚úÖ FRONT DESK DASHBOARD COMPLETE:** Real-time check-in management with auto-refresh  
- **‚úÖ CHECK-IN SYNC WORKING PERFECTLY:** Server-side + localStorage cross-domain solution DEPLOYED
- **‚úÖ COMPLETE INVENTORY MANAGEMENT SYSTEM:** 200+ items, 3 locations, real vendor integration
- **‚úÖ CAF√â OPERATIONS PORTAL:** Full digitization of Notion manual procedures
- **‚úÖ FRONT DESK DASHBOARD ENHANCED:** Add Patient modal, phone formatting, delete functionality, service dropdowns
- **‚úÖ IPAD CHECK-IN ENHANCED:** 30-second auto-reset, audio alerts, responsive service grid
- **‚úÖ SERVICE ALIGNMENT:** Both systems use actual office services (Chiropractic, Massage, Dry Needling, etc.)
- **‚úÖ CLEAN COMMENTS:** No redundant information, blank unless manually added
- **‚úÖ SIMPLE ORDERS DASHBOARD RESTORED:** localStorage-based ordering system recreated after rollback
- **‚úÖ PRINT FUNCTIONALITY FIXED:** Proper print windows with compact formatting, no more screen printing
- **‚úÖ ORDER GROUPING:** Print All combines multiple orders by vendor/location, eliminates repetition
- **‚úÖ ONE-CLICK CLEARING:** No more 75 confirmation dialogs, single clear confirmation
- **‚úÖ COMPACT LAYOUTS:** Tightened spacing on both dashboard and print formats
- **üîí SECURITY FIX DEPLOYED:** Fixed critical vulnerability in staff knowledge base password authentication
- **‚úÖ INVENTORY UI CONSISTENCY COMPLETE:** All additional item inputs standardized with black text and consistent styling

## üí≥ STRIPE PAYMENT LINKS
- **Restore ($149):** https://buy.stripe.com/eVq6oI3KEbHrais8DtgQE01
- **Revive ($299):** https://buy.stripe.com/14A8wQepi5j362c7zpgQE02
- **Renew ($499):** https://buy.stripe.com/bJe9AU2GAeTD8akbPFgQE03
- **Total Wellness ($799):** https://buy.stripe.com/fZu8wQ80U6n776gf1RgQE04

## üõ†Ô∏è COMMON TASKS & AUTOMATIC PROCEDURES
- Always commit and push changes
- Test on bewelllifestylecenters.com after pushing
- Videos must be in /videos/ folder
- Run lint/typecheck if available

## üîÑ **MANDATORY AFTER EVERY CODING SESSION:**
**ALWAYS AUTOMATICALLY DO THESE 4 STEPS - NO EXCEPTIONS:**

1. **üìù UPDATE CLAUDE.md** - Add what was accomplished to the current status
2. **üíæ COMMIT & PUSH TO GITHUB** - Ensure all changes are saved to repository  
3. **üìÅ BACKUP TO DROPBOX** - Auto-backup files (if system available)
4. **üìã UPDATE DOCUMENTATION** - Note completion status and any issues

**‚ö†Ô∏è CRITICAL REMINDER FOR FUTURE CLAUDE SESSIONS:**
- **READ THIS SECTION FIRST** when starting any Be Well work
- **NEVER skip the 4 mandatory steps** above 
- **ALWAYS complete documentation updates** before ending session
- **CHECK CLAUDE.md status** to understand what's already complete

**If you crash/restart, immediately check CLAUDE.md for project status and continue documentation!**

## üîÑ **AUTOMATED BACKUP SYSTEM** (NEW - June 24, 2025 7:14 PM)

### üõ°Ô∏è BULLETPROOF DATA PROTECTION ACTIVE
**NEVER LOSE DATA AGAIN - EVERYTHING IS PRESERVED**

#### üìÅ Auto-Backup Scripts Created:
- **`/scripts/auto-backup.sh`** - Full project backup every 30 minutes
  - Copies entire project to timestamped Dropbox folder
  - Captures git status, recent commits, uncommitted changes
  - Keeps last 20 backups, auto-cleans old ones
  - Creates `latest-backup` symlink for easy access

- **`/scripts/session-backup.sh`** - Conversation & session state capture
  - Preserves current working context for Claude continuity
  - Session info with project state and recent activity
  - Copies CLAUDE.md and backup logs for recovery
  - Creates `latest-session` symlink

#### üéØ Backup Locations:
- **Project Backups**: `/Users/silviomac/Library/CloudStorage/Dropbox/Apps/bewellbe-data-sync/bewellbe-data/auto-backup-TIMESTAMP/`
- **Session Backups**: `/Users/silviomac/Library/CloudStorage/Dropbox/Apps/bewellbe-data-sync/bewellbe-data/sessions/session-TIMESTAMP/`
- **Logs**: `backup.log` and `session.log` in backup base directory

#### ‚ö° To Activate Automatic Backups:
```bash
# Manual execution (test)
/Users/silviomac/wellbe/scripts/auto-backup.sh
/Users/silviomac/wellbe/scripts/session-backup.sh

# Set up cron job for automatic execution every 30 minutes
# Add to crontab: */30 * * * * /Users/silviomac/wellbe/scripts/auto-backup.sh
```

#### üîç Recovery Instructions:
- **Latest backup**: Follow symlink at `/bewellbe-data/latest-backup`
- **Session context**: Check `/bewellbe-data/latest-session/session-info.md`
- **Git history**: `git log --oneline -10` for recent commits
- **If Claude crashes**: Read this CLAUDE.md + latest session backup immediately

## üîß SYSTEM STATUS & TROUBLESHOOTING (Current as of June 24, 2025 7:14 PM)

### ‚úÖ WORKING SYSTEMS:
- **Stripe Integration:** Webhook receiving events, signature verification working
- **Member Portal:** Login, member data display, credit tracking functional
- **Netlify Functions:** All 6 functions deployed and running
- **Website:** Live at bewelllifestylecenters.com
- **Git Repository:** https://github.com/scozzetto/wellbe-biosync-portal

### ‚ö†Ô∏è NEEDS ATTENTION:
- **Salesforce Sync:** Code ready, needs environment variables:
  - SALESFORCE_USERNAME
  - SALESFORCE_PASSWORD  
  - SALESFORCE_SECURITY_TOKEN
  - SALESFORCE_LOGIN_URL (optional, defaults to https://login.salesforce.com)

### üîë IMPORTANT FILES:
- `/netlify/functions/stripe-webhook.js` - Main webhook processor
- `/netlify/functions/member-lookup.js` - Member portal backend
- `/netlify/functions/salesforce-sync.js` - Salesforce integration
- `/member-portal.html` - Member portal frontend
- `/patient-checkin.html` - iPad kiosk with multi-step wizard
- `/front-desk-dashboard.html` - Staff dashboard with real-time updates
- `/CHECKIN_SYSTEM_STATUS.md` - **CRITICAL: Patient check-in system debugging info**

### üß™ TEST DATA:
- **Working test member:** test321@stripetest.ca (can login to portal)
- **Stripe Customer ID:** cus_SXcQvdP0K4HQKV

## üìÖ RECENT WORK LOG (June 27, 2025 - Final UI Consistency Fixes)

### üéØ **PERFECT STATE CHECKPOINT** - Commit c4b0274
**‚úÖ ALL INVENTORY ISSUES RESOLVED - SYSTEM READY FOR PRODUCTION**

#### üîß **FINAL FIXES COMPLETED:**
1. **Gordon Foods Vendor Name Visibility** - Changed from bright yellow (#ffc107) to dark brown (#856404)
2. **Additional Items UI Consistency** - Standardized all vendor additional item inputs:
   - Removed inconsistent "Additional Item" labels from VacPak, Greene Rock, and Muffits
   - All additional item inputs now use `color: black;` for visibility
   - Consistent styling: `border: 1px solid #ccc; border-radius: 4px;`
   - Uniform placeholder text: "Additional item..."

#### üéØ **SYSTEM STATUS:**
- **JavaScript functionality**: ‚úÖ All buttons working (Send Orders, Print All, Clear All, dropdowns)
- **Text visibility**: ‚úÖ All text inputs readable with black text
- **Vendor styling**: ‚úÖ All vendor names clearly visible
- **UI consistency**: ‚úÖ Perfect uniformity across all 13+ vendors
- **Data integrity**: ‚úÖ localStorage system working flawlessly
- **Auto-backup**: ‚úÖ Full Dropbox backup completed

#### üìã **RECOVERY INFORMATION:**
- **Stable commit**: c4b0274 - "Fix additional items styling inconsistency"
- **GitHub status**: Pushed successfully to main branch
- **Backup location**: `/Users/silviomac/Library/CloudStorage/Dropbox/Apps/bewellbe-data-sync/bewellbe-data/auto-backup-2025-06-26T23-08-23`
- **All functionality verified**: User confirmed "Perfect" status

**üîí MEMORY CHECKPOINT: If any future issues arise, revert to commit c4b0274 for guaranteed working state.**

## üìÖ PREVIOUS WORK LOG (June 24, 2025 - Inventory & Front Desk Updates)

### üõ†Ô∏è MAJOR SYSTEM UPDATES (Current Session)

1. **üì¶ INVENTORY SYSTEM VENDOR UPDATES**
   - **Jessica's Natural Foods** - Updated from Jennifer's
     - New email: lindah@jessicasnaturalfoods.com
     - Product: 20 LB Bulk Vanilla Maple Granola
   - **FAIRE** - Added MASA Chips Original/Blue 5oz, FRENCH Dijon Pretzels, Gold and Herbie Pretzels
   - **WEBSTAURANT** - Added Bear Nut Butter 40lbs, burger patties, Beyond Meat sausage, oat milk
   - **SABBATH COFFEE** (New) - Lunar Dark Roast 12oz, Ritual Blend 5lb
   - **GORDON FOODS** - Added chicken breast fillets, dressings, honey, peanut butter, kettle chips, oats
   - **9 total vendors** with comprehensive product listings

2. **üñ•Ô∏è FRONT DESK DASHBOARD ENHANCEMENTS**
   - **Status Filter Dropdown** - Simplified workflow options:
     - Checked In (waiting patients only)
     - Currently in Treatment (being seen)
     - Was Seen (completed patients)
     - All Patients Seen Today (Ready for Print)
   - **End of Day Improvements**:
     - Archives ALL patients instead of deleting
     - Data preserved with date keys (archive_YYYY-MM-DD)
     - "Reprint End of Day" button for regenerating reports
   - **Clean Dashboard View** - Default shows only patients needing attention
   - **Auto-refresh** - Every 15 seconds for real-time updates

3. **‚úÖ ALL CHANGES COMMITTED & PUSHED TO GITHUB**
   - Commit: f36d1f5 - Jessica's Natural Foods vendor update
   - Commit: 18d9c00 - Major vendor inventory updates
   - Commit: c0dcb20 - Enhanced front desk dashboard
   - Commit: dc83a20 - Simplified filter options
   - Commit: 66508f4 - **FINAL:** Updated dropdown options for clearer workflow

4. **üìÅ DROPBOX BACKUP COMPLETED**
   - Full project backup saved to: `/Users/silviomac/Library/CloudStorage/Dropbox/Apps/bewellbe-data-sync/`
   - Backup timestamp: auto-backup-2025-06-24T19-12-42
   - Documentation file created: FRONT_DESK_UPDATES_20250624.md

## üìÖ PREVIOUS WORK LOG (June 24, 2025 - End of Day Session)

### üö® CRITICAL SYSTEM RESTORATION
**Completed full system recovery and enhancement:**

1. **üîÑ ROLLBACK TO STABLE VERSION (Commit: 0bf17ca)**
   - Reverted to working local-only patient check-in system
   - Removed problematic server sync complications that caused data loss
   - Restored rock-solid reliability from before multi-location server issues

2. **üì¶ ORDERS DASHBOARD SYSTEM RECREATED (localStorage-based)**
   - **orders-dashboard.html** - Complete orders management with location filtering
   - **simple-inventory.html** - Enhanced with location selector and "Send Orders" button
   - **Print functionality** - Proper print windows instead of screen printing
   - **Order grouping** - Combines multiple orders by vendor/location automatically
   - **Compact layouts** - Tight spacing for better readability

3. **üîß CRITICAL FIXES COMPLETED:**
   - **End of Day data preservation** - Now archives instead of deleting patient data
   - **Accidental button safety** - Added confirmation dialogs to prevent data loss
   - **Print format optimization** - Fixed spacing and eliminated repetition
   - **One-click clearing** - Removed 75-confirmation loop, single clear confirmation
   - **Dashboard display** - Items and quantities now properly spaced together

### üéØ CURRENT SYSTEM STATUS:
- ‚úÖ **Patient Check-in System**: Restored to stable local-only version
- ‚úÖ **Orders Dashboard**: Simple localStorage-based workflow working perfectly
- ‚úÖ **Print Functionality**: Clean, compact formatting with proper print windows  
- ‚úÖ **Data Safety**: No more accidental clearing, proper archiving implemented
- ‚úÖ **Documentation**: CLAUDE.md enhanced with mandatory procedures for future sessions

### üìã **NEW MANDATORY PROCEDURES ESTABLISHED:**
Future Claude sessions MUST automatically:
1. Update CLAUDE.md with session accomplishments
2. Commit & push all changes to GitHub
3. Backup to Dropbox (when available)
4. Complete documentation updates

**System is now stable, well-documented, and ready for production use.**

---
If you see this file, you're in the RIGHT place!